import sys
import socket

# This server can accept connection infinitely without end.

host = ''
port = 4444

s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
s.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)

print('\n[*] Socket created successfully.')


s.bind((host,port))
print('[*] Socket bound to %s' % port)

s.listen(5)
print('[*] Socket is now listening.')

while True:
    conn, addr = s.accept()
    data = conn.recv(2048)
    print(data)
    print('[*] Got a connection from this address:', addr)
    conn.send(b'\nThanks for connecting to our server.')
    print('[*] Server message sent to client.')
    conn.close()